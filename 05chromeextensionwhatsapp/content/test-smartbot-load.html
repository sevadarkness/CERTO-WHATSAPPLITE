<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>SmartBot IA Core - Test</title>
</head>
<body>
    <h1>SmartBot IA Core - Test de Carregamento</h1>
    <pre id="output"></pre>
    
    <script src="smartbot-ia-core.js"></script>
    <script>
        const output = document.getElementById('output');
        
        function log(msg) {
            output.textContent += msg + '\n';
        }
        
        // Test 1: Check if SmartBotIA is available
        log('Test 1: Verificando se SmartBotIA estÃ¡ disponÃ­vel...');
        if (typeof window.SmartBotIA !== 'undefined') {
            log('âœ… SmartBotIA estÃ¡ disponÃ­vel globalmente');
            log(`   VersÃ£o: ${window.SmartBotIA.version}`);
        } else {
            log('âŒ SmartBotIA NÃƒO estÃ¡ disponÃ­vel');
        }
        
        // Test 2: List all available classes
        log('\nTest 2: Classes disponÃ­veis:');
        const classes = Object.keys(window.SmartBotIA).filter(k => 
            typeof window.SmartBotIA[k] === 'function' && 
            k !== 'Core' && 
            k[0] === k[0].toUpperCase()
        );
        log(`   Total: ${classes.length} classes`);
        classes.forEach(c => log(`   - ${c}`));
        
        // Test 3: Initialize Core
        log('\nTest 3: Inicializando SmartBotIACore...');
        try {
            const smartbot = new window.SmartBotIA.Core();
            log('âœ… SmartBotIACore instanciado com sucesso');
            
            // Test 4: Initialize
            log('\nTest 4: Chamando initialize()...');
            smartbot.initialize({
                bot: { name: 'TestBot' },
                features: { autoResponse: true }
            }).then(() => {
                log('âœ… Sistema inicializado com sucesso');
                
                // Test 5: Process message
                log('\nTest 5: Processando mensagem de teste...');
                return smartbot.processMessage('test-client-1', 'OlÃ¡, bom dia!', {
                    clientName: 'Cliente Teste'
                });
            }).then(result => {
                log('âœ… Mensagem processada:');
                log(`   Intent: ${result.intent}`);
                log(`   Confidence: ${result.confidence}`);
                log(`   Response: ${result.response}`);
                
                // Test 6: Get report
                log('\nTest 6: Gerando relatÃ³rio...');
                const report = smartbot.getReport();
                log('âœ… RelatÃ³rio gerado:');
                log(`   Total Messages: ${report.summary.totalMessages}`);
                log(`   Auto Responses: ${report.summary.autoResponses}`);
                log(`   Automation Rate: ${report.summary.automationRate}%`);
                
                log('\nğŸ‰ Todos os testes passaram com sucesso!');
            }).catch(err => {
                log('âŒ Erro: ' + err.message);
            });
        } catch (err) {
            log('âŒ Erro ao instanciar: ' + err.message);
        }
    </script>
</body>
</html>
